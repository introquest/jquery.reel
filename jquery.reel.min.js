/*
 Copyright (c) 2009-2013 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.3.3
 Updated: 2016-05-13

 Requires jQuery 1.6.2 or higher
*/
!function(b){var c="function"==typeof define&&define.amd&&(define(["jquery"],b)||!0),d=!c&&"object"==typeof module&&"object"==typeof module.exports&&(module.exports=b);!c&&!d&&b(jQuery)}(function(a){return a.reel||function(a,b,c,d){function e(a){return C.instances.push(a[0])&&a}function f(a){return(C.instances=C.instances.not(s(a.attr(Ob))))&&a}function g(a){return C.instances.first().data(a)}function h(a){return"data:image/gif;base64,R0lGODlh"+a}function i(a){return"<"+a+"/>"}function j(a){return"."+(a||"")}function k(a){return a.replace(Jb,C.cdn)}function l(a){return"url('"+v(a)+"')"}function m(a,b){return typeof b==Tb?b[a]:b}function n(a,b,c){return $(a,Z(b,c))}function o(a,b){return _(a)*(b?-1:1)}function p(a){return a.touch||a.originalEvent.touches&&a.originalEvent.touches[0]||a}function q(a){return a.originalEvent}function r(a){return a===d?0:typeof a==Ub?a:a+"px"}function s(a){return"#"+a}function t(a,b,c){for(;a.length<b;)a=c+a;return a}function u(a){return t(a,2,"0")}function v(a){return encodeURI(decodeURI(a))}function w(a){return C.re.array.exec(a)?a.split(C.re.array):a}function x(a){return!a.parents(Nb).length}function y(b){return typeof b==Ub?b:a.each(b,function(a,c){b[a]=c?+c:d})}function z(a){try{console.error("[ Reel ] "+a)}catch(b){}}function A(a){return b.toStaticHTML?toStaticHTML(a):a}if(a){var B=a&&a().jquery.split(/\./);if(!B||+(u(B[0])+u(B[1])+u(B[2]||""))<10602)return z("Too old jQuery library. Please upgrade your jQuery to version 1.6.2 or higher");var C=a.reel=function(b,c){if(!arguments.length)throw new Error("Invalid arguments for Reel");return a.each(b,function(){var b=a(this).unreel(),d=b.data(),e=(d.images=w(d.images),{});a(j(R)+"[data-for="+b.attr(Ob)+"]").each(function(b,c){var d=a(c),f=d.data(),g=(f.x=y(w(f.x)),f.y=y(w(f.y)),d.attr(Ob));f.node=d.removeData();e[g]=f}),d.annotations=e,b.reel(a.extend({},c,d))})};a.extend(C,{version:"1.3.3",def:{frame:1,frames:36,loops:!0,clickfree:!1,draggable:!0,scrollable:!0,steppable:!0,throwable:!0,wheelable:!0,orientable:!1,cw:!1,revolution:d,stitched:0,directional:!1,row:1,rows:0,rowlock:!1,framelock:!1,orbital:0,vertical:!1,inversed:!1,footage:6,spacing:0,horizontal:!0,suffix:"-reel",image:d,images:"",path:"",preload:"fidelity",shy:!1,speed:0,delay:0,timeout:2,duration:d,rebound:.5,entry:d,opening:0,brake:.23,velocity:0,tempo:36,laziness:6,cursor:d,hint:"",indicator:0,klass:"",preloader:2,area:d,attr:{},annotations:d,responsive:!1,graph:d,monitor:d},scan:function(){return C(a(j(L)+":not("+j(M)+" > "+j(L)+")"))},fn:{reel:function(){var c=arguments,h=a(this),n=h.data(),t=c[0]||{},u=c[1];if("object"!=typeof t)return":"==t.slice(0,1)?h.trigger(t.slice(1),u):1==c.length?n[t]:(u!==d&&(C.normal[t]&&(u=C.normal[t](u,n)),n[t]===d?n[t]=u:n[t]!==u&&h.trigger(t+"Change",[d,n[t]=u])),h);var w=a.extend({},C.def,t),y=h.filter(Pb).unreel().filter(function(){var b=a(this),c=w.attr,d=c.src||b.attr(_a),e=c.width||b.attr(Ba)||b.width(),f=c.height||b.attr(nb)||b.height();return d?e&&f?!0:z("Dimension(s) of the target image unknown"):z("`src` attribute missing on target image")}),B=[];return y.each(function(){var c,h,n,t=a(this),u=function(a,b){return t.reel(a,b)&&y(a)},y=function(a){return t.data(a)},z={setup:function(b){if(!t.hasClass(L)||!t.parent().hasClass(M)){u(Ma,w);var c={src:t.attr(_a),width:t.attr(nb)||null,height:t.attr(Ba)||null,style:t.attr(fb)||null,"class":t.attr(ma)||null},d=t.attr(w.attr).attr(_a),f=u(Ob,t.attr(Ob)||t.attr(Ob,L+"-"+ +new Date).attr(Ob)),g=a.extend({},t.data()),h=u(Fa,w.images||[]),k=u(bb,w.stitched),l=!h.length||k,n=u(Sa,w.responsive&&(K?!0:!l)),p=u(kb,{}),q=w.loops,v=w.orbital,x=w.revolution,A=w.rows,D=u(wa,Z(w.footage,w.frames)),F=(u(Za,w.spacing),u(nb,+t.attr(nb)||t.width())),G=u(Ba,+t.attr(Ba)||t.height()),H=u(Ya,w.shy),I=u(Aa,v&&D||1>=A&&h.length||w.frames),J=A>1||v,A=(u(Ta,m("x",x)||k/2||2*F),u(Ua,J?m("y",x)||(A>3?G:G/(5-A)):0),k?1:Y(I/D)),O=(u(db,k-(q?0:F)),u(cb,0),s(f+w.suffix)),P=t.attr(ma),Q=P?P+Fb:Eb,R=a(i(Kb),{id:O.substr(1),"class":Q+Fb+M+Fb+U+"0"}),S=t.wrap(R.addClass(w.klass)).addClass(L),R=(B.push(e(S)[0]),S.parent().bind(z.instance));u(Ea,h.length?Eb:w.image||d.replace(C.re.image,"$1"+w.suffix+".$2")),u(ja,a(i(Kb),{"class":N}).appendTo("body")),u(da,a()),u(ka,[]),u(ya,null),u(xa,null),u(Va,w.row),u(ib,0),u(Xa,A),u(Wa,w.rowlock),u(za,w.framelock),u(ta,u(ua,u(va,0))),u(ha,1/(I-+!q)),u(ab,O),u($a,w.speed),u(ga,!1),u(Ha,!1),u(lb,0),u(mb,w.vertical),u(Oa,0),u(sa,o(1,!w.cw&&!k)),u(pa,{}),u(oa,!1),u(qa,u(ra,0)),u(Ga,u(Ca,0)),u(Qa,!1),u(Ra,!1),u(Ka,!1),u(ia,w.brake),u(la,!!v),u(gb,w.tempo/(C.lazy?w.laziness:1)),u(La,-1),u(hb,-1),u(ca,w.annotations||R.unbind(j(ca))&&{}),u(Pa,1),u(Ia,""),u(fa,{attr:c,data:g}),w.steppable||R.unbind("up.steppable"),w.indicator||R.unbind(".indicator"),ac(Eb,{overflow:Da,position:"relative"}),n||ac(Eb,{width:F,height:G}),n&&a.each(Vb,function(a,b){p[b]=y(b)}),ac(Gb+Fb+j(L),{display:Ib}),ac(j(N),{position:"fixed",left:r(-100),top:r(-100)},!0),ac(j(N)+Fb+Pb,{position:Hb,width:10,height:10},!0),E.bind(z.pool),t.trigger(H?"prepare":"setup")}},instance:{teardown:function(c){var d=t.data(fa);t.parent().unbind(z.instance),y(Ya)?t.parent().unbind(na,G):y(fb).remove()&&y(da).unbind(ob),y(ja).remove(),clearTimeout(h),clearTimeout(n),a(b).unbind(Db,ic),a(b).unbind(ob),E.unbind(z.pool),nc.unbind(pb),t.siblings().unbind(ob).remove(),fc(),t.removeAttr("onloaded"),f(t.unbind(ob).removeData().unwrap().attr(d.attr).data(d.data)),t.attr(fb)==Eb&&t.removeAttr(fb)},setup:function(c){function e(a){return t.trigger("down",[p(a).clientX,p(a).clientY,a])&&a.give}function f(a,b){return!b||t.trigger("wheel",[b,a])&&a.give}var g=t.parent().append(Rb()),h=u(da,a(w.area||g)),i=w.rows>1,l=w.cursor,m=l==Lb?Zb:l||Yb,n=l==Lb?$b+Fb+"!important":d;ac(Fb+j(L),{MozUserSelect:Sb,WebkitUserSelect:Sb,MozTransform:"translateZ(0)"}),t.unbind(na,G),h.bind(Bb,e).bind(w.clickfree?tb:sb,e).bind(w.wheelable?xb:null,f).bind(rb,function(){return!1}),ac(Eb,{cursor:k(m)}),ac(j(T),{cursor:"wait"}),ac(j(S)+Gb+j(S)+" *",{cursor:k(n||m)},!0),y(Sa)&&(ac(Fb+j(L),{width:"100%",height:ea}),a(b).bind(Db,ic)),w.hint&&h.attr("title",w.hint),w.indicator&&g.append(Wb("x")),i&&w.indicator&&g.append(Wb("y")),w.monitor&&g.append(Qb())},preload:function(b){function c(){var a=k.children(':not([src]),[src=""]').first();return a.attr(_a,a.data(_a))}var d=t.parent(),e=y(Fa),f=!e.length,g=C.preload[w.preload]||C.preload[C.def.preload],h=f?[y(Ea)]:g(e.slice(0),w,y),j=(h.length,u(Oa,f?.5:0),0),k=y(ja).empty(),l=[];for(d.addClass(T),u(fb,y(fb)||a(A("<"+fb+' type="text/css">'+ac.rules.join("\n")+"</"+fb+">")).prependTo(Mb)),u(Ha,!0),t.trigger("stop"),w.responsive&&jc(),t.trigger("resize",!0);h.length;){var m=C.substitute(w.path+h.shift(),y),n=a(i(Pb)).data(_a,m).appendTo(k);n.bind("load error abort",function(a){return"load"!=a.type&&t.trigger(a.type),!x(d)&&t.trigger("preloaded")&&c()&&!1}),l.push(m)}setTimeout(function(){for(;++j<C.concurrent_requests;)c()},0),u(ka,l),u(Ya,!1)},preloaded:function(a){var b=y(Fa).length||1,c=u(Oa,Z(y(Oa)+1,b));1===c&&t.trigger("frameChange",[d,y(ya)]),c===b&&(t.parent().removeClass(T),t.trigger("loaded"))},loaded:function(a){y(Fa).length>1||t.css({backgroundImage:l(C.substitute(w.path+y(Ea),y))}).attr({src:k(Xb)}),y(bb)&&t.attr({src:k(Xb)}),y(Ra)||u(lb,w.velocity||0),u(Ha,!1),D=!0},prepare:function(a){t.css("display",Ib).parent().one(na,G)},opening:function(a){if(!w.opening)return t.trigger("openingDone");var b=(u(Ka,!0),u(eb,!y($a)),w.entry||w.speed),c=y(xa),d=w.opening;u(xa,c-b*d),u(La,Y(d*g(gb)))},openingDone:function(c){function d(a){return t.trigger("orient",[q(a).alpha,q(a).beta,q(a).gamma,a])&&a.give}var e=(u(Na,!1),u(Ka,!1),yb+j(Ka));E.unbind(e,z.pool[e]),w.orientable&&a(b).bind(qb,d),w.delay>0?h=setTimeout(function(){t.trigger("play")},1e3*w.delay):t.trigger("play")},play:function(a,b){var b=b?u($a,b):y($a)*o(1,y(ga)),c=w.duration,d=(c&&u(hb,Y(c*g(gb))),u(ga,0>b),u(Na,!!b));u(eb,!d);I()},reach:function(a,b,c){if(b!=y(ya)){var d=y(Aa),e=(u(Va,Y(b/d)),u(ta,y(ya))),b=u(ua,b),f=u(va,C.math.distance(e,b,d)),c=_(c||y($a))*o(1,0>f);t.trigger("play",c)}},pause:function(a){J()},stop:function(a){var b=u(eb,!0);u(Na,!b)},down:function(b,c,e,f){function g(a){return t.trigger("pan",[p(a).clientX,p(a).clientY,a])&&a.give}function h(a){return t.trigger("up",[a])&&a.give}if((w.clickfree||!f||f.button===d||f.button==_b)&&w.draggable){var i=(u(oa,y(ya)),w.clickfree),j=(u(lb,0),i?y(da):nc);dc=kc(y(Ta),c,e);J(),fc(),Ja=0,a(Nb,nc).addClass(S),j.bind(Cb+Fb+vb,g).bind(Ab+Fb+zb,h).bind(i?ub:wb,h)}},up:function(b,c){var d=(u(oa,!1),u(Qa,!1),w.throwable),e=_(gc[0]+gc[1])/60,f=u(lb,d?d===!0?e:Z(d,e):0);H=f?1:0;J(),fc(),a(Nb,nc).removeClass(S),(w.clickfree?y(da):nc).unbind(pb)},pan:function(a,b,c,d){if(w.draggable&&lc){lc=!1,J();var e=w.rows,f=w.orbital,g=!y(Qa)&&1>=e&&!f&&w.scrollable,h={x:b-dc.x,y:c-dc.y},i={x:_(h.x),y:_(h.y)};if(d&&g&&i.x<i.y)return d.give=!0;if(i.x>0||i.y>0){d&&(d.give=!1),Ja=$(i.x,i.y),dc={x:b,y:c};var j=y(Ta),k=y(pa),l=y(mb);if(!y(za)){var m=u(xa,hc(l?c-k.y:b-k.x,y(qa),j,y(Ga),y(Ca),y(sa),l?c-k.y:b-k.x)),n=(u(Qa,y(Qa)||y(ya)!=y(oa)),ec(l?h.y:h.x||0));n&&u(ga,0>n)}if(f&&y(la))var l=u(mb,_(c-k.y)>_(b-k.x)),k=kc(j,b,c);if(e>1&&!y(Wa)){var o=y(Ua),p=y(ra),q=-p*o;u(ib,C.math.envelope(c-k.y,p,o,q,q+o,-1))}if(!(m%1||w.loops))var k=kc(j,b,c)}}},wheel:function(a,b,c){if(b){jb=!0;var d=Y(V.sqrt(_(b))/2),d=o(d,b>0),e=.0833*y(Ta);kc(e),d&&u(ga,0>d),u(lb,0),u(xa,hc(d,y(qa),e,y(Ga),y(Ca),y(sa)));c&&c.preventDefault(),c&&(c.give=!1),J(),t.trigger("up",[c])}},orient:function(a,b,d,e,f){if(lc&&!c){Jb=!0;var g=b/360;u(xa,+(w.stitched||w.cw?1-g:g).toFixed(2));lc=!1}},fractionChange:function(a,b,c){if(b===d){var e=1+X(c/y(ha)),f=w.rows>1,g=w.orbital;u(la,!!g&&(g>=e||e>=y(wa)-g+2));if(f)var e=e+(y(Va)-1)*y(Aa);var e=u(ya,e)}},tierChange:function(a,b,c){if(b===d)var e=u(Va,W(ba(c,1,w.rows))),f=y(Aa),g=y(ya)%f||f,g=u(ya,g+e*f-f)},rowChange:function(a,b,c){if(b===d){mc(ib,d,c,w.rows)}},frameChange:function(a,b,c){if(b===d){this.className=this.className.replace(C.re.frame_klass,U+c);var e=y(Aa),f=w.rows,g=w.path,h=c%e||e,i=(c-h)/e+1,j=(i-1)/(f-1),k=y(Va),m=(f?mc(ib,j,k,f):y(ib),mc(xa,d,h,e)),n=y(wa);if(w.orbital&&y(mb))var c=w.inversed?n+1-c:c,c=c+n;var o=y(bb),p=y(Fa),q=!p.length||o;if(q){var s=y(Za),x=y(nb),z=y(Ba);if(o){var A=u(cb,W(ba(m,0,y(db)))%o),B=1>=f?0:(z+s)*(f-k),D=[r(-A),r(-B)],E=p.length>1&&p[k-1],F=C.substitute(g+E,y);E&&t.css("backgroundImage").search(F)<0&&t.css({backgroundImage:l(F)})}else var G=w.horizontal,H=c%n-1,H=0>H?n-1:H,I=X((c-.1)/n),I=I+(f>1?0:y(ga)?0:w.directional?y(Xa):0),J=I*((G?z:x)+s),K=H*((G?x:z)+s),D=p.length?[0,0]:G?[r(-K),r(-J)]:[r(-J),r(-K)];t.css({backgroundPosition:D.join(Fb)})}else y(Sa)&&jc(),y(Oa)&&t.attr({src:v(C.substitute(g+p[c-1],y))})}},"frameChange.reach":function(a,b,c){if(y(ua)&&b===d){var e=C.math.distance(y(ta),c,y(Aa)),f=_(e)>=_(y(va));f&&(u(ya,u(ua)),u(ua,u(va,u(ta,0))),t.trigger("stop"))}},"imageChange imagesChange":function(a,b,c){t.trigger("preload")},"fractionChange.indicator":function(a,b,c){if(w.indicator&&b===d){var e=w.indicator,f=w.orbital,g=y(f&&y(mb)?Ba:nb),h=f?y(wa):w.images.length||y(Aa),i=Y(g/h),g=g-i,j=W(ba(c,0,g)),j=!w.cw||y(bb)?j:g-j;Wb.$x.css(y(mb)?{left:0,top:r(j),bottom:ea,width:e,height:i}:{bottom:0,left:r(j),top:ea,width:i,height:e})}},"tierChange.indicator":function(a,b,c){if(w.rows>1&&w.indicator&&b===d){var e=y(Ba),f=w.indicator,g=Y(e/w.rows),e=e-g,h=W(c*e);Wb.$y.css({left:0,top:h,width:f,height:g})}},monitorChange:function(a,b,c){Qb.$.text(c)},"setup.annotations":function(b){var c=t.parent();a.each(y(ca),function(b,d){var e=typeof d.node==Ub?a(d.node):d.node||{},e=e.jquery?e:a(i(Kb),e),e=e.attr({id:b}).addClass(R),f=d.image?a(i(Pb),d.image):a(),g=d.link?a(i("a"),d.link).click(function(){t.trigger("up.annotations",{target:g})}):a();ac(s(b),{display:Sb,position:Hb},!0),d.image||d.link&&e.append(g),d.link||d.image&&e.append(f),d.link&&d.image&&e.append(g.append(f)),e.appendTo(c)})},"prepare.annotations":function(b){a.each(y(ca),function(b,c){a(s(b)).hide()})},"frameChange.annotations":function(b,c,e){if(y(Oa)&&c===d){var f=y(nb),g=y(bb),h=y(cb);a.each(y(ca),function(b,c){var e=a(s(b)),i=c.start||1,j=c.end,k=k||y(ya),l=k-1,m=c.at?"+"==c.at[l]:!1,l=c.at?l:l-i+1,n=typeof c.x!=Tb?c.x:c.x[l],o=typeof c.y!=Tb?c.y:c.y[l],p=n!==d&&o!==d,q=p&&(c.at?m:l>=0&&(!j||j-i>=l));if(g)var t=f>n&&h>g-f,u=n>g-f&&h>=0&&f>h,n=t?n+g:n,n=u?n-g:n,n=n-h;if(y(Sa))var v=y(Pa),n=n&&n*v,o=o&&o*v;var w={display:q?Ib:Sb,left:r(n),top:r(o)};e.css(w)})}},"up.annotations":function(b,c){if(!(Ja>10||jb)){var d=a(c.target),e=d.is("a")?d:d.parents("a"),f=e.attr("href");f&&(Ja=10)}},"up.steppable":function(a,b){Ja||jb||t.trigger(y(pa).x-t.offset().left>.5*y(nb)?"stepRight":"stepLeft")},"stepLeft stepRight":function(a){J()},stepLeft:function(a){u(ga,!1),u(xa,y(xa)-y(ha)*y(sa))},stepRight:function(a){u(ga,!0),u(xa,y(xa)+y(ha)*y(sa))},stepUp:function(a){u(Va,y(Va)-1)},stepDown:function(a){u(Va,y(Va)+1)},resize:function(a,b){if(!y(Ha)||b){var c=y(bb),e=y(Za),f=y(Ba),g=!y(Fa).length||c,h=w.rows||1,i=y(Fa).length?c?r(c)+Fb+r(f):d:c&&r(c)+Fb+r((f+e)*h-e)||r((y(nb)+e)*y(wa)-e)+Fb+r((f+e)*y(Xa)*h*(w.directional?2:1)-e);t.css({height:g?r(f):null,backgroundSize:i||null}),b||t.trigger("imagesChange")}},"setup.fu":function(a){u(ya,w.frame+(y(Va)-1)*y(Aa));t.trigger("preload")},"wheel.fu":function(){jb=!1},"clean.fu":function(){t.trigger("teardown")},"loaded.fu":function(){t.trigger("opening")}},pool:{"tick.reel.preload":function(a){if((D||y(Ha))&&!y(Ya)){var b=y(nb),c=aa(Rb.$.css(nb)),d=y(Fa).length||1,e=W(1/d*y(Oa)*b);Rb.$.css({width:c+(e-c)/3+1}),y(Oa)===d&&c>b-1&&(D=!1,Rb.$.fadeOut(300,function(){Rb.$.css({opacity:1,width:0})}))}},"tick.reel":function(a){if(!y(Ya)){var b=y(lb),d=g(gb),e=w.monitor;if(C.intense||!bc()){if(H)var f=b-y(ia)/d*H,b=u(lb,f>.1?f:H=c=0);if(e&&u(Ia,y(e)+Eb),b&&H++,c&&c++,ec(0),lc=!0,c&&!b)return F(a);if(y(oa))return F(a,J());if(!(y(La)>0)){if(!w.loops&&w.rebound){var h=(c||y(xa)%1?cc=0:cc++,cc>=1e3*w.rebound/d);h&&u(ga,!y(ga))}var i=y(sa)*o(1,y(ga)),j=y(hb),k=(y(Na)&&!Jb&&j?_(y($a))+b:b)/g(gb),j=(u(xa,y(xa)-k*i),w.duration?j>0&&u(hb,j-1):j);!j&&y(Na)&&t.trigger("stop")}}}},"tick.reel.opening":function(a){if(y(Ka)){var b=w.entry||w.speed,c=b/g(gb)*(w.cw?-1:1),d=u(La,y(La)-1);u(xa,y(xa)+c);d||t.trigger("openingDone")}}}},D=!1,F=function(a,b){return a.stopImmediatePropagation()||b},G=function(){t.trigger("setup")},H=0,I=function(){return c=0},J=function(){return clearTimeout(h),E.unbind(yb+j(Ka),z.pool[yb+j(Ka)]),u(La,0),u(Ra,!0),c=-w.timeout*g(gb)},Ja=0,jb=!1,Jb=!1,Qb=function(){return ac(Fb+j(Q),{position:Hb,left:0,top:0}),Qb.$=a(i(Kb),{"class":Q})},Rb=function(){return ac(Fb+j(P),{position:Hb,left:0,bottom:0,height:w.preloader,overflow:Da,backgroundColor:"#000"}),Rb.$=a(i(Kb),{"class":P})},Wb=function(b){return ac(Fb+j(O)+j(b),{position:Hb,width:0,height:0,overflow:Da,backgroundColor:"#000"}),Wb["$"+b]=a(i(Kb),{"class":O+Fb+b})},ac=function(b,c,d){function e(b){var c=[];return a.each(b,function(a,b){c.push(a.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+r(b)+";")}),"{"+c.join(Eb)+"}"}var f=d?Eb:y(ab),b=b.replace(/^/,f).replace(Gb,Gb+f);return ac.rules.push(b+e(c))&&c},bc=function(){var c=y(Ba),d=y(nb),e=t[0].getBoundingClientRect();return e.top<-c||e.left<-d||e.right>d+a(b).width()||e.bottom>c+a(b).height()},cc=0,dc={x:0,y:0},ec=function(a){return gc.push(a)&&gc.shift()&&a},fc=function(){return gc=[0,0]},gc=fc(),hc=w.graph||C.math[w.loops?"hatch":"envelope"],ic=(C.normal,function(){clearTimeout(n),n=setTimeout(jc,C.resize_gauge)}),jc=function(){if(t.width()!=y(nb)){var b=y(kb),c=u(Pa,t.width()/b.width);a.each(b,function(a,b){u(a,W(b*c))}),t.trigger("resize")}},kc=function(a,b,c){var e=u(qa,y(xa)),f=(u(ra,y(ib)),w.loops);u(Ga,f?0:-e*a),u(Ca,f?a:a-e*a);return b!==d&&u(pa,{x:b,y:c})||d},lc=!0,mc=function(a,b,c,e){if(e){var f=y(a)||0,g=b!==d?b:(c-1)/(e-1),g=a!=xa?g:Z(g,.9999),h=+_(f-g).toFixed(8)>=+(1/(e-1)).toFixed(8),b=h?u(a,g):b||f;return b}},nc=E;try{E[0]!=top.document&&(nc=E.add(top.document))}catch(oc){}top===self?a():function(b){return a("iframe",nc.last()).each(function(){try{if(a(this).contents().find(Mb).html()==a(Mb).html())return(b=a(this))&&!1}catch(c){}}),b}();ac.rules=[],z.setup()}),D=D||function F(){var a=+new Date,b=g(gb);return b?(E.trigger(yb),C.cost=(+new Date+C.cost-a)/2,D=setTimeout(F,$(4,1e3/b-C.cost))):D=null}(),a(B)},unreel:function(){return this.trigger("teardown")}},re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,no_match:/^(undefined|)$/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(a,b,c,d,e,f,g){return b+n(d,e,-a*f)/c},hatch:function(a,b,c,d,e,f,g){var a=(d>a?e:0)+a%e,h=b+-a*f/c;return h-X(h)},interpolate:function(a,b,c){return b+a*(c-b)},distance:function(a,b,c){var d=c/2,e=b-a;return-d>e?e+c:e>d?e-c:e}},preload:{fidelity:function(a,b,c){function d(a,c,d){function e(a){for(;!(a>=1&&i>=a);)a+=1>a?+i:-i;return j[d+a]||(j[d+a]=!!f.push(a))}if(!a.length)return[];for(var f=[],g=4*c,h=b.frame,i=a.length,k=!0,l=i/g,m=0;g>m;m++)e(h+W(m*l));for(;l>1;){var m=0,n=f.length,l=l/2;for(k=!k;n>m;m++)e(f[m]+(k?1:-1)*W(l))}for(var m=0;i>=m;m++)e(m);for(var m=0;m<f.length;m++)f[m]=a[f[m]-1];return f}var e=b.orbital,f=e?2:b.rows||1,g=c(e?wa:Aa),h=(b.row-1)*g,i=(new Array).concat(a),j=new Array(a.length+1),k=2>f?[]:i.slice(h,h+g);return d(k,1,h).concat(d(i,f,0))},linear:function(a,b,c){return a}},substitute:function(a,b){return a.replace(C.re.substitution,function(a,c,d){return"function"==typeof C.substitutes[d]?C.substitutes[d](b):Wb[d]?b(Wb[d]):c})},substitutes:{T:function(a){return+new Date}},normal:{fraction:function(a,b){return null===a?a:b[Ma].loops?a-X(a):n(0,1,a)},tier:function(a,b){return null===a?a:n(0,1,a)},row:function(a,b){return null===a?a:W(n(1,b[Ma].rows,a))},frame:function(a,b){if(null===a)return a;var c=b[Ma],d=b[Aa]*(c.orbital?2:c.rows||1),e=W(c.loops?a%d||d:n(1,d,a));return 0>e?e+d:e},speed:function(a,b){b[ga]=0>a;return a},images:function(a,b){var c=C.re.sequence.exec(a),d=c?C.sequence(c,b[Ma]):a;return d}},sequence:function(a,b){if(a.length<=1)return b.images;for(var c=[],d=b.orbital,e=a[1],f=a[2],g=a[4],g=C.re.no_match.test(g+Eb)?1:+g,h=d?2:b.rows||1,i=d?b.footage:b.stitched?1:b.frames,j=+(a[5]||h*i),k=j-g,l=+a[7]||1,m=0;k>=m;)c.push(e.replace(f,t(g+m+Eb,f.length,"0"))),m+=l;return c},instances:a(),leader:g,resize_gauge:300,concurrent_requests:4,cost:0});var D,E=a(c),F=navigator.userAgent,G=C.re.ua[0].exec(F)||C.re.ua[1].exec(F)||C.re.ua[2].exec(F),H=+G[2].split(".").slice(0,2).join("."),I="MSIE"==G[1],J=!(I&&8>H),K=!(I&&9>H),L="reel",M=L+"-overlay",N=L+"-cache",O=L+"-indicator",P=L+"-preloader",Q=L+"-monitor",R=L+"-annotation",S=L+"-panning",T=L+"-loading",U="frame-",V=Math,W=V.round,X=V.floor,Y=V.ceil,Z=V.min,$=V.max,_=V.abs,aa=parseInt,ba=C.math.interpolate,ca="annotations",da="area",ea="auto",fa="backup",ga="backwards",ha="bit",ia="brake",ja="cache",ka=ja+"d",la="center",ma="class",na="click",oa=na+"ed",pa=oa+"_location",qa=oa+"_on",ra=oa+"_tier",sa="cwish",ta="departure",ua="destination",va="distance",wa="footage",xa="fraction",ya="frame",za="framelock",Aa="frames",Ba="height",Ca="hi",Da="hidden",Ea="image",Fa="images",Ga="lo",Ha="loading",Ia="monitor",Ja="mouse",Ka="opening",La=Ka+"_ticks",Ma="options",Na="playing",Oa="preloaded",Pa="ratio",Qa="reeling",Ra="reeled",Sa="responsive",Ta="revolution",Ua="revolution_y",Va="row",Wa="rowlock",Xa="rows",Ya="shy",Za="spacing",$a="speed",_a="src",ab="stage",bb="stitched",cb=bb+"_shift",db=bb+"_travel",eb="stopped",fb="style",gb="tempo",hb="ticks",ib="tier",jb="touch",kb="truescale",lb="velocity",mb="vertical",nb="width",ob=j(L),pb=j("pan")+ob,qb="deviceorientation"+ob,rb="dragstart"+ob,sb=Ja+"down"+ob,tb=Ja+"enter"+ob,ub=Ja+"leave"+pb,vb=Ja+"move"+pb,wb=Ja+"up"+pb,xb=Ja+"wheel"+ob,yb="tick"+ob,zb=jb+"cancel"+pb,Ab=jb+"end"+pb,Bb=jb+"start"+ob,Cb=jb+"move"+pb,Db="resize"+ob,Eb="",Fb=" ",Gb=",",Hb="absolute",Ib="block",Jb="@CDN@",Kb="div",Lb="hand",Mb="head",Nb="html",Ob="id",Pb="img",Qb="jquery."+L,Rb="move",Sb="none",Tb="object",Ub="string",Vb=[nb,Ba,Za,Ta,Ua,bb,cb,db],Wb={W:nb,H:Ba},Xb=J?h("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Jb+"blank.gif",Yb=l(Jb+Qb+".cur")+Gb+Rb,Zb=l(Jb+Qb+"-drag.cur")+Gb+Rb,$b=l(Jb+Qb+"-drag-down.cur")+Gb+Rb,_b=(C.lazy=C.re.lazy_agent.test(F),I&&9>H?1:0),ac=a.cleanData;a.cleanData=function(b){return a(b).each(function(){a(this).triggerHandler("clean")}),ac.apply(this,arguments)};return a.extend(a.fn,C.fn)&&a(C.scan),C}}(a,window,document)});