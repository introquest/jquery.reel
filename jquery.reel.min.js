/*
 Copyright (c) 2009-2013 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.3.1
 Updated: 2016-05-13

 Requires jQuery 1.6.2 or higher
*/
!function(b){var c="function"==typeof define&&define.amd&&(define(["jquery"],b)||!0),d=!c&&"object"==typeof module&&"object"==typeof module.exports&&(module.exports=b);!c&&!d&&b(jQuery)}(function(a){return a.reel||function(a,b,c,d){function e(a){return B.instances.push(a[0])&&a}function f(a){return(B.instances=B.instances.not(s(a.attr(Mb))))&&a}function g(a){return B.instances.first().data(a)}function h(a){return"data:image/gif;base64,R0lGODlh"+a}function i(a){return"<"+a+"/>"}function j(a){return"."+(a||"")}function k(a){return a.replace(Hb,B.cdn)}function l(a){return"url('"+v(a)+"')"}function m(a,b){return typeof b==Rb?b[a]:b}function n(a,b,c){return Z(a,Y(b,c))}function o(a,b){return $(a)*(b?-1:1)}function p(a){return a.touch||a.originalEvent.touches&&a.originalEvent.touches[0]||a}function q(a){return a.originalEvent}function r(a){return a===d?0:typeof a==Sb?a:a+"px"}function s(a){return"#"+a}function t(a,b,c){for(;a.length<b;)a=c+a;return a}function u(a){return t(a,2,"0")}function v(a){return encodeURI(decodeURI(a))}function w(a){return B.re.array.exec(a)?a.split(B.re.array):a}function x(a){return!a.parents(Lb).length}function y(b){return typeof b==Sb?b:a.each(b,function(a,c){b[a]=c?+c:d})}function z(a){try{console.error("[ Reel ] "+a)}catch(b){}}if(a){var A=a&&a().jquery.split(/\./);if(!A||+(u(A[0])+u(A[1])+u(A[2]||""))<10602)return z("Too old jQuery library. Please upgrade your jQuery to version 1.6.2 or higher");var B=a.reel=function(b,c){if(!arguments.length)throw new Error("Invalid arguments for Reel");return a.each(b,function(b,d){var e=a(d),f=e.data(),g=(f.images=w(f.images),{});a(j(Q)+"[data-for="+e.attr(Mb)+"]").each(function(b,c){var d=a(c),e=d.data(),f=(e.x=y(w(e.x)),e.y=y(w(e.y)),d.attr(Mb));e.node=d.removeData();g[f]=e}),f.annotations=g,e.removeData().reel(a.extend({},c,f))})};a.extend(B,{version:"1.3.1",def:{frame:1,frames:36,loops:!0,clickfree:!1,draggable:!0,scrollable:!0,steppable:!0,throwable:!0,wheelable:!0,orientable:!1,cw:!1,revolution:d,stitched:0,directional:!1,row:1,rows:0,rowlock:!1,framelock:!1,orbital:0,vertical:!1,inversed:!1,footage:6,spacing:0,horizontal:!0,suffix:"-reel",image:d,images:"",path:"",preload:"fidelity",shy:!1,speed:0,delay:0,timeout:2,duration:d,rebound:.5,entry:d,opening:0,brake:.23,velocity:0,tempo:36,laziness:6,cursor:d,hint:"",indicator:0,klass:"",preloader:2,area:d,attr:{},annotations:d,responsive:!1,graph:d,monitor:d},scan:function(){return B(a(j(K)+":not("+j(L)+" > "+j(K)+")"))},fn:{reel:function(){var c=arguments,h=a(this),n=h.data(),t=c[0]||{},u=c[1];if("object"!=typeof t)return":"==t.slice(0,1)?h.trigger(t.slice(1),u):1==c.length?n[t]:(u!==d&&(B.normal[t]&&(u=B.normal[t](u,n)),n[t]===d?n[t]=u:n[t]!==u&&h.trigger(t+"Change",[d,n[t]=u])),h);var w=a.extend({},B.def,t),y=h.filter(Nb).unreel().filter(function(){var b=a(this),c=w.attr,d=c.src||b.attr(Za),e=c.width||b.attr(Aa)||b.width(),f=c.height||b.attr(lb)||b.height();return d?e&&f?!0:z("Dimension(s) of the target image unknown"):z("`src` attribute missing on target image")}),A=[];return y.each(function(){var c,h,n,t=a(this),u=function(a,b){return t.reel(a,b)&&y(a)},y=function(a){return t.data(a)},z={setup:function(b){if(!t.hasClass(K)||!t.parent().hasClass(L)){u(Ka,w);var c={src:t.attr(Za),width:t.attr(lb)||null,height:t.attr(Aa)||null,style:t.attr(db)||null,"class":t.attr(la)||null},d=t.attr(w.attr).attr(Za),f=u(Mb,t.attr(Mb)||t.attr(Mb,K+"-"+ +new Date).attr(Mb)),g=a.extend({},t.data()),h=u(Ea,w.images||[]),k=u(_a,w.stitched),l=!h.length||k,n=u(Qa,w.responsive&&(J?!0:!l)),p=u(ib,{}),q=w.loops,v=w.orbital,x=w.revolution,C=w.rows,E=u(va,Y(w.footage,w.frames)),F=(u(Xa,w.spacing),u(lb,+t.attr(lb)||t.width())),G=u(Aa,+t.attr(Aa)||t.height()),H=u(Wa,w.shy),I=u(za,v&&E||1>=C&&h.length||w.frames),N=C>1||v,C=(u(Ra,m("x",x)||k/2||2*F),u(Sa,N?m("y",x)||(C>3?G:G/(5-C)):0),k?1:X(I/E)),O=(u(bb,k-(q?0:F)),u(ab,0),s(f+w.suffix)),P=t.attr(la),Q=P?P+Db:Cb,R=a(i(Ib),{id:O.substr(1),"class":Q+Db+L+Db+T+"0"}),S=t.wrap(R.addClass(w.klass)).addClass(K),R=(A.push(e(S)[0]),S.parent().bind(z.instance));u(Da,h.length?Cb:w.image||d.replace(B.re.image,"$1"+w.suffix+".$2")),u(ia,a(i(Ib),{"class":M}).appendTo("body")),u(ca,a()),u(ja,[]),u(xa,null),u(wa,null),u(Ta,w.row),u(gb,0),u(Va,C),u(Ua,w.rowlock),u(ya,w.framelock),u(sa,u(ta,u(ua,0))),u(ga,1/I),u($a,O),u(fa,u(Ya,w.speed)<0),u(Ga,!1),u(jb,0),u(kb,w.vertical),u(Ma,0),u(ra,o(1,!w.cw&&!k)),u(oa,{}),u(na,!1),u(pa,u(qa,0)),u(Fa,u(Ba,0)),u(Oa,!1),u(Pa,!1),u(Ia,!1),u(ha,w.brake),u(ka,!!v),u(eb,w.tempo/(B.lazy?w.laziness:1)),u(Ja,-1),u(fb,-1),u(ba,w.annotations||R.unbind(j(ba))&&{}),u(Na,1),u(ea,{attr:c,data:g}),w.steppable||R.unbind("up.steppable"),w.indicator||R.unbind(".indicator"),$b(Cb,{overflow:Ca,position:"relative"}),n||$b(Cb,{width:F,height:G}),n&&a.each(Tb,function(a,b){p[b]=y(b)}),$b(Eb+Db+j(K),{display:Gb}),$b(j(M),{position:"fixed",left:r(-100),top:r(-100)},!0),$b(j(M)+Db+Nb,{position:Fb,width:10,height:10},!0),D.bind(z.pool),t.trigger(H?"prepare":"setup")}},instance:{teardown:function(c){var d=t.data(ea);t.parent().unbind(z.instance),y(Wa)?t.parent().unbind(ma,F):y(db).remove()&&y(ca).unbind(mb),y(ia).empty(),clearTimeout(h),clearTimeout(n),a(b).unbind(Bb,gc),a(b).unbind(mb),D.unbind(z.pool),lc.unbind(nb),t.siblings().unbind(mb).remove(),dc(),t.removeAttr("onloaded"),f(t.unbind(mb).removeData().unwrap().attr(d.attr).data(d.data)),t.attr(db)==Cb&&t.removeAttr(db)},setup:function(c){function e(a){return t.trigger("down",[p(a).clientX,p(a).clientY,a])&&a.give}function f(a,b){return!b||t.trigger("wheel",[b,a])&&a.give}var g=t.parent().append(Pb()),h=u(ca,a(w.area||g)),l=w.rows>1,m=w.cursor,n=m==Jb?Xb:m||Wb,o=m==Jb?Yb+Db+"!important":d;$b(Db+j(K),{MozUserSelect:Qb,WebkitUserSelect:Qb,MozTransform:"translateZ(0)"}),t.unbind(ma,F),h.bind(zb,e).bind(w.clickfree?rb:qb,e).bind(w.wheelable?vb:null,f).bind(pb,function(){return!1}),$b(Cb,{cursor:k(n)}),$b(j(S),{cursor:"wait"}),$b(j(R)+Eb+j(R)+" *",{cursor:k(o||n)},!0),y(Qa)&&($b(Db+j(K),{width:"100%",height:da}),a(b).bind(Bb,gc)),w.hint&&h.attr("title",w.hint),w.indicator&&g.append(Ub("x")),l&&w.indicator&&g.append(Ub("y")),w.monitor&&g.append(Ob=a(i(Ib),{"class":P}))&&$b(Db+j(P),{position:Fb,left:0,top:0})},preload:function(b){function c(){var a=k.children(":not([src]):first");return a.attr(Za,a.data(Za))}var d=t.parent(),e=y(Ea),f=!e.length,g=B.preload[w.preload]||B.preload[B.def.preload],h=f?[y(Da)]:g(e.slice(0),w,y),j=(h.length,u(Ma,f?.5:0),0),k=y(ia).empty(),l=[];for(d.addClass(S),u(db,y(db)||a("<"+db+' type="text/css">'+$b.rules.join("\n")+"</"+db+">").prependTo(Kb)),u(Ga,!0),t.trigger("stop"),w.responsive&&hc(),t.trigger("resize",!0);h.length;){var m=B.substitute(w.path+h.shift(),y),n=a(i(Nb)).data(Za,m).appendTo(k);n.bind("load error abort",function(a){return"load"!=a.type&&t.trigger(a.type),!x(d)&&t.trigger("preloaded")&&c()&&!1}),l.push(m)}setTimeout(function(){for(;++j<B.concurrent_requests;)c()},0),u(ja,l),u(Wa,!1)},preloaded:function(a){var b=y(Ea).length||1,c=u(Ma,Y(y(Ma)+1,b));if(1===c){t.trigger("frameChange",[d,y(xa)])}c===b&&(t.parent().removeClass(S),t.trigger("loaded"))},loaded:function(a){y(Ea).length>1||t.css({backgroundImage:l(B.substitute(w.path+y(Da),y))}).attr({src:k(Vb)}),y(_a)&&t.attr({src:k(Vb)}),y(Pa)||u(jb,w.velocity||0),u(Ga,!1),C=!0},prepare:function(a){t.css("display",Gb).parent().one(ma,F)},opening:function(a){if(!w.opening)return t.trigger("openingDone");var b=(u(Ia,!0),u(cb,!y(Ya)),w.entry||w.speed),c=y(wa),d=w.opening;u(wa,c-b*d),u(Ja,X(d*g(eb)))},openingDone:function(c){function d(a){return t.trigger("orient",[q(a).alpha,q(a).beta,q(a).gamma,a])&&a.give}var e=(u(La,!1),u(Ia,!1),wb+j(Ia));D.unbind(e,z.pool[e]),w.orientable&&a(b).bind(ob,d),w.delay>0?h=setTimeout(function(){t.trigger("play")},1e3*w.delay):t.trigger("play")},play:function(a,b){var b=b?u(Ya,b):y(Ya)*o(1,y(fa)),c=w.duration,d=(c&&u(fb,X(c*g(eb))),u(fa,0>b),u(La,!!b));u(cb,!d);H()},reach:function(a,b,c){if(b!=y(xa)){var d=y(za),e=(u(Ta,X(b/d)),u(sa,y(xa))),b=u(ta,b),f=u(ua,B.math.distance(e,b,d)),c=$(c||y(Ya))*o(1,0>f);t.trigger("play",c)}},pause:function(a){I()},stop:function(a){var b=u(cb,!0);u(La,!b)},down:function(b,c,e,f){function g(a){return t.trigger("pan",[p(a).clientX,p(a).clientY,a])&&a.give}function h(a){return t.trigger("up",[a])&&a.give}if((w.clickfree||!f||f.button===d||f.button==Zb)&&w.draggable){var i=(u(na,y(xa)),w.clickfree),j=(u(jb,0),i?y(ca):lc);bc=ic(y(Ra),c,e);I(),dc(),Ha=0,a(Lb,lc).addClass(R),j.bind(Ab+Db+tb,g).bind(yb+Db+xb,h).bind(i?sb:ub,h)}},up:function(b,c){var d=(u(na,!1),u(Oa,!1),w.throwable),e=$(ec[0]+ec[1])/60,f=u(jb,d?d===!0?e:Y(d,e):0);G=f?1:0;I(),dc(),a(Lb,lc).removeClass(R),(w.clickfree?y(ca):lc).unbind(nb)},pan:function(a,b,c,d){if(w.draggable&&jc){jc=!1,I();var e=w.rows,f=w.orbital,g=!y(Oa)&&1>=e&&!f&&w.scrollable,h={x:b-bc.x,y:c-bc.y},i={x:$(h.x),y:$(h.y)};if(d&&g&&i.x<i.y)return d.give=!0;if(i.x>0||i.y>0){d&&(d.give=!1),Ha=Z(i.x,i.y),bc={x:b,y:c};var j=y(Ra),k=y(oa),l=y(kb);if(!y(ya)){var m=u(wa,fc(l?c-k.y:b-k.x,y(pa),j,y(Fa),y(Ba),y(ra),l?c-k.y:b-k.x)),n=(u(Oa,y(Oa)||y(xa)!=y(na)),cc(l?h.y:h.x||0));n&&u(fa,0>n)}if(f&&y(ka))var l=u(kb,$(c-k.y)>$(b-k.x)),k=ic(j,b,c);if(e>1&&!y(Ua)){var o=y(Sa),p=y(qa),q=-p*o;u(gb,B.math.envelope(c-k.y,p,o,q,q+o,-1))}if(!(m%1||w.loops))var k=ic(j,b,c)}}},wheel:function(a,b,c){if(b){hb=!0;var d=X(U.sqrt($(b))/2),d=o(d,b>0),e=.0833*y(Ra);ic(e),d&&u(fa,0>d),u(jb,0),u(wa,fc(d,y(pa),e,y(Fa),y(Ba),y(ra)));c&&c.preventDefault(),c&&(c.give=!1),I(),t.trigger("up",[c])}},orient:function(a,b,d,e,f){if(jc&&!c){Hb=!0;var g=b/360;fraction=u(wa,+(w.stitched||w.cw?1-g:g).toFixed(2)),jc=!1}},fractionChange:function(a,b,c){if(b===d){var e=1+W(c/y(ga)),f=w.rows>1,g=w.orbital;u(ka,!!g&&(g>=e||e>=y(va)-g+2));if(f)var e=e+(y(Ta)-1)*y(za);var e=u(xa,e)}},tierChange:function(a,b,c){if(b===d)var e=u(Ta,V(aa(c,1,w.rows))),f=y(za),g=y(xa)%f||f,g=u(xa,g+e*f-f)},rowChange:function(a,b,c){if(b===d){kc(gb,d,c,w.rows)}},frameChange:function(a,b,c){if(b===d){this.className=this.className.replace(B.re.frame_klass,T+c);var e=y(za),f=w.rows,g=w.path,h=c%e||e,i=(c-h)/e+1,j=(i-1)/(f-1),k=y(Ta),m=(f?kc(gb,j,k,f):y(gb),kc(wa,d,h,e)),n=y(va);if(w.orbital&&y(kb))var c=w.inversed?n+1-c:c,c=c+n;var o=y(_a),p=y(Ea),q=!p.length||o;if(q){var s=y(Xa),x=y(lb),z=y(Aa);if(o){var A=u(ab,V(aa(m,0,y(bb)))%o),C=1>=f?0:(z+s)*(f-k),D=[r(-A),r(-C)],E=p.length>1&&p[k-1],F=B.substitute(g+E,y);E&&t.css("backgroundImage").search(F)<0&&t.css({backgroundImage:l(F)})}else var G=w.horizontal,H=c%n-1,H=0>H?n-1:H,I=W((c-.1)/n),I=I+(f>1?0:y(fa)?0:w.directional?y(Va):0),J=I*((G?z:x)+s),K=H*((G?x:z)+s),D=p.length?[0,0]:G?[r(-K),r(-J)]:[r(-J),r(-K)];t.css({backgroundPosition:D.join(Db)})}else y(Qa)&&hc(),y(Ma)&&t.attr({src:v(B.substitute(g+p[c-1],y))})}},"frameChange.reach":function(a,b,c){if(y(ta)&&b===d){var e=B.math.distance(y(sa),c,y(za)),f=$(e)>=$(y(ua));f&&(u(xa,u(ta)),u(ta,u(ua,u(sa,0))),t.trigger("stop"))}},"imageChange imagesChange":function(a,b,c){t.trigger("preload")},"fractionChange.indicator":function(a,b,c){if(w.indicator&&b===d){var e=w.indicator,f=w.orbital,g=y(f&&y(kb)?Aa:lb),h=f?y(va):w.images.length||y(za),i=X(g/h),g=g-i,j=V(aa(c,0,g)),j=!w.cw||y(_a)?j:g-j;Ub.$x.css(y(kb)?{left:0,top:r(j),bottom:da,width:e,height:i}:{bottom:0,left:r(j),top:da,width:i,height:e})}},"tierChange.indicator":function(a,b,c){if(w.rows>1&&w.indicator&&b===d){var e=y(Aa),f=w.indicator,g=X(e/w.rows),e=e-g,h=V(c*e);Ub.$y.css({left:0,top:h,width:f,height:g})}},"setup.annotations":function(b){var c=t.parent();a.each(y(ba),function(b,d){var e=typeof d.node==Sb?a(d.node):d.node||{},e=e.jquery?e:a(i(Ib),e),e=e.attr({id:b}).addClass(Q),f=d.image?a(i(Nb),d.image):a(),g=d.link?a(i("a"),d.link).click(function(){t.trigger("up.annotations",{target:g})}):a();$b(s(b),{display:Qb,position:Fb},!0),d.image||d.link&&e.append(g),d.link||d.image&&e.append(f),d.link&&d.image&&e.append(g.append(f)),e.appendTo(c)})},"prepare.annotations":function(b){a.each(y(ba),function(b,c){a(s(b)).hide()})},"frameChange.annotations":function(b,c,e){if(y(Ma)&&c===d){var f=y(lb),g=y(_a),h=y(ab);a.each(y(ba),function(b,c){var e=a(s(b)),i=c.start||1,j=c.end,k=k||y(xa),l=k-1,m=c.at?"+"==c.at[l]:!1,l=c.at?l:l-i+1,n=typeof c.x!=Rb?c.x:c.x[l],o=typeof c.y!=Rb?c.y:c.y[l],p=n!==d&&o!==d,q=p&&(c.at?m:l>=0&&(!j||j-i>=l));if(g)var t=f>n&&h>g-f,u=n>g-f&&h>=0&&f>h,n=t?n+g:n,n=u?n-g:n,n=n-h;if(y(Qa))var v=y(Na),n=n&&n*v,o=o&&o*v;var w={display:q?Gb:Qb,left:r(n),top:r(o)};e.css(w)})}},"up.annotations":function(b,c){if(!(Ha>10||hb)){var d=a(c.target),e=d.is("a")?d:d.parents("a"),f=e.attr("href");f&&(Ha=10)}},"up.steppable":function(a,b){Ha||hb||t.trigger(y(oa).x-t.offset().left>.5*y(lb)?"stepRight":"stepLeft")},"stepLeft stepRight":function(a){I()},stepLeft:function(a){u(fa,!1),u(wa,y(wa)-y(ga)*y(ra))},stepRight:function(a){u(fa,!0),u(wa,y(wa)+y(ga)*y(ra))},stepUp:function(a){u(Ta,y(Ta)-1)},stepDown:function(a){u(Ta,y(Ta)+1)},resize:function(a,b){if(!y(Ga)||b){var c=y(_a),e=y(Xa),f=y(Aa),g=!y(Ea).length||c,h=w.rows||1,i=y(Ea).length?c?r(c)+Db+r(f):d:c&&r(c)+Db+r((f+e)*h-e)||r((y(lb)+e)*y(va)-e)+Db+r((f+e)*y(Va)*h*(w.directional?2:1)-e);t.css({height:g?r(f):null,backgroundSize:i||null}),b||t.trigger("imagesChange")}},"setup.fu":function(a){u(xa,w.frame+(y(Ta)-1)*y(za));t.trigger("preload")},"wheel.fu":function(){hb=!1},"clean.fu":function(){t.trigger("teardown")},"loaded.fu":function(){t.trigger("opening")}},pool:{"tick.reel.preload":function(a){if((C||y(Ga))&&!y(Wa)){var b=y(lb),c=_(Pb.$.css(lb)),d=y(Ea).length||1,e=V(1/d*y(Ma)*b);Pb.$.css({width:c+(e-c)/3+1}),y(Ma)===d&&c>b-1&&(C=!1,Pb.$.fadeOut(300,function(){Pb.$.css({opacity:1,width:0})}))}},"tick.reel":function(a){if(!y(Wa)){var b=y(jb),d=g(eb),e=w.monitor;if(B.intense||!_b()){if(G)var f=b-y(ha)/d*G,b=u(jb,f>.1?f:G=c=0);if(e&&Ob.text(y(e)),b&&G++,c&&c++,cc(0),jc=!0,c&&!b)return E(a);if(y(na))return E(a,I());if(!(y(Ja)>0)){if(!w.loops&&w.rebound){var h=(c||y(wa)%1?ac=0:ac++,ac>=1e3*w.rebound/d);h&&u(fa,!y(fa))}var i=y(ra)*o(1,y(fa)),j=y(fb),k=(y(La)&&!Hb&&j?$(y(Ya))+b:b)/g(eb),j=(u(wa,y(wa)-k*i),w.duration?j>0&&u(fb,j-1):j);!j&&y(La)&&t.trigger("stop")}}}},"tick.reel.opening":function(a){if(y(Ia)){var b=w.entry||w.speed,c=b/g(eb)*(w.cw?-1:1),d=u(Ja,y(Ja)-1);u(wa,y(wa)+c);d||t.trigger("openingDone")}}}},C=!1,E=function(a,b){return a.stopImmediatePropagation()||b},F=function(){t.trigger("setup")},G=0,H=function(){return c=0},I=function(){return clearTimeout(h),D.unbind(wb+j(Ia),z.pool[wb+j(Ia)]),u(Ja,0),u(Pa,!0),c=-w.timeout*g(eb)},Ha=0,hb=!1,Hb=!1,Ob=a(),Pb=function(){return $b(Db+j(O),{position:Fb,left:0,bottom:0,height:w.preloader,overflow:Ca,backgroundColor:"#000"}),Pb.$=a(i(Ib),{"class":O})},Ub=function(b){return $b(Db+j(N)+j(b),{position:Fb,width:0,height:0,overflow:Ca,backgroundColor:"#000"}),Ub["$"+b]=a(i(Ib),{"class":N+Db+b})},$b=function(b,c,d){function e(b){var c=[];return a.each(b,function(a,b){c.push(a.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+r(b)+";")}),"{"+c.join(Cb)+"}"}var f=d?Cb:y($a),b=b.replace(/^/,f).replace(Eb,Eb+f);return $b.rules.push(b+e(c))&&c},_b=function(){var c=y(Aa),d=y(lb),e=t[0].getBoundingClientRect();return e.top<-c||e.left<-d||e.right>d+a(b).width()||e.bottom>c+a(b).height()},ac=0,bc={x:0,y:0},cc=function(a){return ec.push(a)&&ec.shift()&&a},dc=function(){return ec=[0,0]},ec=dc(),fc=w.graph||B.math[w.loops?"hatch":"envelope"],gc=(B.normal,function(){clearTimeout(n),n=setTimeout(hc,B.resize_gauge)}),hc=function(){if(t.width()!=y(lb)){var b=y(ib),c=u(Na,t.width()/b.width);a.each(b,function(a,b){u(a,V(b*c))}),t.trigger("resize")}},ic=function(a,b,c){var e=u(pa,y(wa)),f=(u(qa,y(gb)),w.loops);u(Fa,f?0:-e*a),u(Ba,f?a:a-e*a);return b!==d&&u(oa,{x:b,y:c})||d},jc=!0,kc=function(a,b,c,e){if(e){var f=y(a)||0,g=b!==d?b:(c-1)/(e-1),g=a!=wa?g:Y(g,.9999),h=+$(f-g).toFixed(8)>=+(1/(e-1)).toFixed(8),b=h?u(a,g):b||f;return b}},lc=D;try{D[0]!=top.document&&(lc=D.add(top.document))}catch(mc){}top===self?a():function(b){return a("iframe",lc.last()).each(function(){try{if(a(this).contents().find(Kb).html()==a(Kb).html())return(b=a(this))&&!1}catch(c){}}),b}();$b.rules=[],z.setup()}),C=C||function E(){var a=+new Date,b=g(eb);return b?(D.trigger(wb),B.cost=(+new Date+B.cost-a)/2,C=setTimeout(E,Z(4,1e3/b-B.cost))):C=null}(),a(A)},unreel:function(){return this.trigger("teardown")}},re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,no_match:/^(undefined|)$/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(a,b,c,d,e,f,g){return b+n(d,e,-a*f)/c},hatch:function(a,b,c,d,e,f,g){var a=(d>a?e:0)+a%e,h=b+-a*f/c;return h-W(h)},interpolate:function(a,b,c){return b+a*(c-b)},distance:function(a,b,c){var d=c/2,e=b-a;return-d>e?e+c:e>d?e-c:e}},preload:{fidelity:function(a,b,c){function d(a,c,d){function e(a){for(;!(a>=1&&i>=a);)a+=1>a?+i:-i;return j[d+a]||(j[d+a]=!!f.push(a))}if(!a.length)return[];for(var f=[],g=4*c,h=b.frame,i=a.length,k=!0,l=i/g,m=0;g>m;m++)e(h+V(m*l));for(;l>1;){var m=0,n=f.length,l=l/2;for(k=!k;n>m;m++)e(f[m]+(k?1:-1)*V(l))}for(var m=0;i>=m;m++)e(m);for(var m=0;m<f.length;m++)f[m]=a[f[m]-1];return f}var e=b.orbital,f=e?2:b.rows||1,g=c(e?va:za),h=(b.row-1)*g,i=(new Array).concat(a),j=new Array(a.length+1),k=2>f?[]:i.slice(h,h+g);return d(k,1,h).concat(d(i,f,0))},linear:function(a,b,c){return a}},substitute:function(a,b){return a.replace(B.re.substitution,function(a,c,d){return"function"==typeof B.substitutes[d]?B.substitutes[d](b):Ub[d]?b(Ub[d]):c})},substitutes:{T:function(a){return+new Date}},normal:{fraction:function(a,b){return null===a?a:b[Ka].loops?a-W(a):n(0,1,a)},tier:function(a,b){return null===a?a:n(0,1,a)},row:function(a,b){return null===a?a:V(n(1,b[Ka].rows,a))},frame:function(a,b){if(null===a)return a;var c=b[Ka],d=b[za]*(c.orbital?2:c.rows||1),e=V(c.loops?a%d||d:n(1,d,a));return 0>e?e+d:e},images:function(a,b){var c=B.re.sequence.exec(a),d=c?B.sequence(c,b[Ka]):a;return d}},sequence:function(a,b){if(a.length<=1)return b.images;for(var c=[],d=b.orbital,e=a[1],f=a[2],g=a[4],g=B.re.no_match.test(g+Cb)?1:+g,h=d?2:b.rows||1,i=d?b.footage:b.stitched?1:b.frames,j=+(a[5]||h*i),k=j-g,l=+a[7]||1,m=0;k>=m;)c.push(e.replace(f,t(g+m+Cb,f.length,"0"))),m+=l;return c},instances:a(),leader:g,resize_gauge:300,concurrent_requests:4,cost:0});var C,D=a(c),E=navigator.userAgent,F=B.re.ua[0].exec(E)||B.re.ua[1].exec(E)||B.re.ua[2].exec(E),G=+F[2].split(".").slice(0,2).join("."),H="MSIE"==F[1],I=!(H&&8>G),J=!(H&&9>G),K="reel",L=K+"-overlay",M=K+"-cache",N=K+"-indicator",O=K+"-preloader",P=K+"-monitor",Q=K+"-annotation",R=K+"-panning",S=K+"-loading",T="frame-",U=Math,V=U.round,W=U.floor,X=U.ceil,Y=U.min,Z=U.max,$=U.abs,_=parseInt,aa=B.math.interpolate,ba="annotations",ca="area",da="auto",ea="backup",fa="backwards",ga="bit",ha="brake",ia="cache",ja=ia+"d",ka="center",la="class",ma="click",na=ma+"ed",oa=na+"_location",pa=na+"_on",qa=na+"_tier",ra="cwish",sa="departure",ta="destination",ua="distance",va="footage",wa="fraction",xa="frame",ya="framelock",za="frames",Aa="height",Ba="hi",Ca="hidden",Da="image",Ea="images",Fa="lo",Ga="loading",Ha="mouse",Ia="opening",Ja=Ia+"_ticks",Ka="options",La="playing",Ma="preloaded",Na="ratio",Oa="reeling",Pa="reeled",Qa="responsive",Ra="revolution",Sa="revolution_y",Ta="row",Ua="rowlock",Va="rows",Wa="shy",Xa="spacing",Ya="speed",Za="src",$a="stage",_a="stitched",ab=_a+"_shift",bb=_a+"_travel",cb="stopped",db="style",eb="tempo",fb="ticks",gb="tier",hb="touch",ib="truescale",jb="velocity",kb="vertical",lb="width",mb=j(K),nb=j("pan")+mb,ob="deviceorientation"+mb,pb="dragstart"+mb,qb=Ha+"down"+mb,rb=Ha+"enter"+mb,sb=Ha+"leave"+nb,tb=Ha+"move"+nb,ub=Ha+"up"+nb,vb=Ha+"wheel"+mb,wb="tick"+mb,xb=hb+"cancel"+nb,yb=hb+"end"+nb,zb=hb+"start"+mb,Ab=hb+"move"+nb,Bb="resize"+mb,Cb="",Db=" ",Eb=",",Fb="absolute",Gb="block",Hb="@CDN@",Ib="div",Jb="hand",Kb="head",Lb="html",Mb="id",Nb="img",Ob="jquery."+K,Pb="move",Qb="none",Rb="object",Sb="string",Tb=[lb,Aa,Xa,Ra,Sa,_a,ab,bb],Ub={W:lb,H:Aa},Vb=I?h("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Hb+"blank.gif",Wb=l(Hb+Ob+".cur")+Eb+Pb,Xb=l(Hb+Ob+"-drag.cur")+Eb+Pb,Yb=l(Hb+Ob+"-drag-down.cur")+Eb+Pb,Zb=(B.lazy=B.re.lazy_agent.test(E),H&&9>G?1:0),$b=a.cleanData;a.cleanData=function(b){return a(b).each(function(){a(this).triggerHandler("clean")}),$b.apply(this,arguments)};return a.extend(a.fn,B.fn)&&a(B.scan),B}}(a,window,document)});